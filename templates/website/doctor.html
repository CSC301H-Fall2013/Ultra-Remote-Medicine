{% load static from staticfiles %}
<!DOCTYPE html>
<html>
<h1>
  {{first_name}}'s Dashboard
</h1>

<!-- Someone else can do the alignments.-->

<!-- The following is not visible by default-->
<span id='workerinfo'>
<form id='workerinfoform' method='post' action="">{% csrf_token %}
<table border="0" cellpadding="5" style="height:200px">
<tr>
<td style="width:300px; vertical-align:top">
	First Name: {{form.first_name}}
	<br> Last Name: {{form.last_name}}
	<br> Phone Number: {{form.phone_number}}
	<br> Address: {{form.address}}
</td>
<td style="width:300px; vertical-align:top">
	{{form.comments}}
</td>
</tr>
<tr style="height:50px">
<td>
	<input id="submitChanges" type="submit" name="submitChanges" value="Submit Changes"/>
	<input id="cancelEditButton" onclick="cancelEditMode()" type="button" name="cancelEditButton" value="Cancel"/> 
</td>
<td>

</td>
</tr>
</table>
</form>
</span>

<span id="workerstatic">
<table border="0" cellpadding="5"  style="height:200px">
<tr>
<td style="width:300px; vertical-align:top">
	First Name: {{first_name}}
	<br>Last Name: {{last_name}}
	<br>Phone Number: {{phone_number}}
	<br>Address: {{address}}
	<br> Registration Time: {{registration_time}}
	<br> Specialties: {% for specialty in specialties %} {{specialty.name}}, {% endfor %}
</td>
<td style="width:300px; vertical-align:top">
	{{comments}}
</td>
</tr>
<tr style="height:50px">
<td>
	<input id="edit" onclick="enterEditMode()" type="submit" name="submit" value="Edit Profile"/>
</td>
<td>

</td>
</tr>
</table>
</span>


<h2>
<b>Cases</b>
</h2>

<table border="1" cellpadding="5">
    <tr>
      <td>
        <button type="button">Patient Name</button>
      </td>
      <td>
        <button type="button">Status</button>
      </td>
      <td>
        <button type="button">Age</button>
      </td>
      <td>
        <button type="button">Gender</button>
      </td>
      <td>
        <button type="button">Priority</button>
      </td>
      <td>
        <button type="button">Date</button>
      </td>
      <td>
        <button type="button">Link to cases</button>
      </td>

      {% for case in cases %}
   	<tr>

          <td>
            <br>
            <a href="http://www.google.ca" target="_blank"> {{case.patient_ref.last_name}}, {{case.patient_ref.first_name}} </a>
          </td>
          <td>
            <select>
              <option value="pending(not seen)">pending(not seen)</option>
              <option value="pending(seen)">pending(seen)</option>
              <option value="completed" selected>completed</option>
            </select>
          </td>
          <td>{{case.age}}</td>
          <td>Male</td>
          <td>
            5
            <button type="button">Edit</button>
          </td>
          <td>{{case.case_ref.date_opened}}</td>
          <td>
            <a href="http://www.google.ca" target="_blank">case-link 1</a>
          </td>
     {% endfor %}
</table>

<script>
	var editMode = false;
	workerinfo.style.display = 'none';
	{{form.comments.auto_id}}.style.resize = 'none';
	{{form.comments.auto_id}}.rows = '6';
	{{form.comments.auto_id}}.style.width = '280px';
	{{form.comments.auto_id}}.style.height = '100px';

	function enterEditMode() {
		editMode = true;

		workerstatic.style.display = 'none';
		workerinfo.style.display = 'block';

	}

	function cancelEditMode() {
		editMode = false;

		{{form.first_name.auto_id}}.value = '{{first_name}}';
		{{form.last_name.auto_id}}.value = '{{last_name}}';
		{{form.phone_number.auto_id}}.value = '{{phone_number}}';
		{{form.address.auto_id}}.value = '{{address}}';
		{{form.comments.auto_id}}.value = {{form.comments.auto_id}}.defaultValue;

		workerstatic.style.display = 'block';
		workerinfo.style.display = 'none';
	}
</script>

</body>
</html>
